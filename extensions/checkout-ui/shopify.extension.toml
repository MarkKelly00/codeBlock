api_version = "2025-01"

[[extensions]]
uid = "sale-discount-lock-checkout-ui"
type = "ui_extension"
name = "Code Blocker Pro"
handle = "checkout-ui"

# Target 1: Merchant can place anywhere via Checkout Editor
[[extensions.targeting]]
target = "purchase.checkout.block.render"
module = "./Extension.jsx"

# Target 2: Show right after discount form in order summary
[[extensions.targeting]]
target = "purchase.checkout.reductions.render-after"
module = "./Extension.jsx"

[extensions.capabilities]
api_access = false
network_access = false

[extensions.settings]
[[extensions.settings.fields]]
key = "sale_mode_enabled"
type = "boolean"
name = "Enable Sale Mode (disable discount codes)"
description = "When enabled, all discount codes are removed/blocked. Gift cards still apply."

[[extensions.settings.fields]]
key = "sale_message"
type = "single_line_text_field"
name = "Sale banner message"
description = "Message shown to customers when sale mode is active"

[[extensions.settings.fields.validations]]
name = "max"
value = "200"
